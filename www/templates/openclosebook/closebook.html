<ion-view hide-nav-bar="false" view-title="TUTUP BUKU">
  <ion-header-bar class="bar-subheader" ng-class="theme.headerstyle" id="mybar" style="padding-left: 0px;padding-right: 0px;padding-bottom: 0px;padding-top: 0px" >
    <div class="button-bar bar-calm" id="mybar" >
      <style>
        #mybar .button {line-height:40px;font-size:12px;}
      </style>
      <a class="button button-small text" grouped-radio="'TUTUPBUKU'" ng-model="viewtoshow.valuechoose">
        TUTUP BUKU
      </a>
      <a class="button button-small text" grouped-radio="'HISTORY'" ng-model="viewtoshow.valuechoose">
        HISTORY
      </a>
    </div>
  </ion-header-bar>
  <ion-content class="has-header layerbackground">
    <ion-list ng-if="viewtoshow.valuechoose == 'TUTUPBUKU' ">
        <ion-list ng-if="!belumopen">
          <form name="closebookForm">
            <table class="pure-table pure-table-horizontal" width="100%" style="padding-top: 5px;">
              <tbody>
                <tr class="pure-table-odd">
                  <td valign="middle" style="width: 10px;" colspan="3">Data Kasir</td>
                </tr>
                <tr class="pure-table-odd">
                  <td valign="middle" style="width: 10px;">1</td>
                  <td valign="middle" style="width: 50vw;">ID Tutup Buku</td>
                  <td valign="middle" align="right" style="border-left: 0px;">{{dataclosebook.SPLIT_OPENCLOSE_ID}}</td>
                </tr>
                <tr class="pure-table-odd">
                  <td valign="middle" style="width: 10px;">2</td>
                  <td valign="middle" style="width: 50vw;">Nama Kasir</td>
                  <td valign="middle" align="right" style="border-left: 0px;">{{profileops.PROFILE.NM_DEPAN}}</td>
                </tr>
                <tr class="pure-table-odd">
                  <td valign="middle" style="width: 10px;">3</td>
                  <td valign="middle" style="width: 50vw;">Waktu Buka Buku</td>
                  <td valign="middle" align="right" style="border-left: 0px;">{{dataclosebook.TGL_OPEN|date:dd-MM-yyyy}}</td>
                </tr>
              </tbody>
            </table>
            <div style="padding-top: 5px;"></div>
            <table class="pure-table pure-table-horizontal" width="100%">

              <tbody>
                <tr class="pure-table-odd">
                  <td valign="middle" style="width: 10px;" colspan="3">Pemasukan</td>
                </tr>
                <tr class="pure-table-odd">
                  <td valign="middle" style="width: 10px;">1</td>
                  <td valign="middle" style="width: 50vw;">Modal Awal</td>
                  <td valign="middle" align="right">{{dataclosebook.CASHINDRAWER|number}}</td>
                </tr>
                <tr class="pure-table-odd">
                  <td valign="middle">2</td>
                  <td valign="middle">Tambah Modal</td>
                  <td valign="middle" align="right">{{dataclosebook.ADDCASH|number}}</td>
                </tr>
                <tr class="pure-table-odd">
                  <td valign="middle">3</td>
                  <td valign="middle">Hasil Penjualan</td>
                  <td valign="middle" align="right">{{dataclosebook.SELLCASH|number}}</td>
                </tr>
                <tr class="pure-table-odd">
                  <td valign="middle">4</td>
                  <td valign="middle">Donasi</td>
                  <td valign="middle" align="right">{{dataclosebook.TOTALDONASI|number}}</td>
                </tr>
                <tr class="pure-table-odd">
                  <td valign="middle" colspan="2">Sub Total</td>
                  <td valign="middle" align="right">{{dataclosebook.PEMASUKAN |number}}</td>
                </tr>
              </tbody>
            </table>
            <div style="padding-top: 5px;"></div>

            <table class="pure-table pure-table-horizontal" width="100%" style="padding-top: 5px;">
              <tbody>
                <tr class="pure-table-odd">
                  <td valign="middle" style="width: 10px;" colspan="3">Pengeluaran</td>
                </tr>
                <tr class="pure-table-odd">
                  <td valign="middle" style="width: 10px;">1</td>
                  <td valign="middle" style="width: 50vw;">Refund</td>
                  <td valign="middle" align="right" style="border-left: 0px;">{{dataclosebook.TOTALREFUND|number}}</td>
                </tr>
              </tbody>
            </table>
            <div style="padding-top: 5px;"></div>
            <table class="pure-table pure-table-horizontal" width="100%" style="padding-top: 5px;">
              <tbody>
                <tr class="pure-table-odd">
                  <td valign="middle" style="width: 10px;" colspan="3">Neraca</td>
                </tr>
                <tr class="pure-table-odd">
                  <td valign="middle" style="width: 10px;">1</td>
                  <td valign="middle" style="width: 50vw;">Pemasukan</td>
                  <td valign="middle" align="right">{{dataclosebook.PEMASUKAN|number}}</td>
                </tr>
                <tr class="pure-table-odd">
                  <td valign="middle" style="width: 10px;">2</td>
                  <td valign="middle" >Pengeluaran</td>
                  <td valign="middle" align="right">{{dataclosebook.TOTALREFUND|number}}</td>
                </tr>
                <tr class="pure-table-odd">
                  <td valign="middle" colspan="2">Total</td>
                  <td valign="middle" align="right">{{dataclosebook.TOTALCASH|number}}</td>
                </tr>
              </tbody>
            </table>
           <!-- <div ></div> -->
            <div style="padding-top: 5px;">
              <label  class="item item-input" style="background-color: #f8f8f8"><span>Total Aktual</span></label>
              <label  class="item item-input">
                <i class="icon ion-card placeholder-icon float-right"></i>
                <input type="tel"  format="number" ng-model="dataclosebook.TOTALCASH_ACTUAL" required ng-readonly="sudahclose" class="float-right">
              </label>
            </div>
            <div class="row" style="padding-left: 10px;padding-right: 10px;">
                <button class="button button-block button-full" ng-class="theme.buttonstyle" ng-disabled="closebookForm.$invalid || sudahclose == true || belumopen" ng-click="submitclosebook()" style="border-radius:15px;">
                  TUTUP BUKU
                </button>
            </div>
          </form>
        </ion-list>
        <div class="row not-found" ng-if="belumopen">
          <div class="profile">
              <img ng-src="img/kg.png"/>
              <h4 style="color: #444;margin-top: -1vh;">Belum Buka Buku</h4>
          </div>
        </div>
    </ion-list>
    <ion-list ng-if="viewtoshow.valuechoose == 'HISTORY' ">
      <div ng-repeat="closebook in listclosebook|orderBy:'-OPENCLOSE_ID'" ng-if="listclosebook.length > 0">
        <ion-item ng-class="{active: isGroupShown(group)}" href="#/tab/closebook/{{closebook.OPENCLOSE_ID}}" style="background: #f8f8f7;border:0px solid rgba(0,0,0,0.1)">
          <div class="item-icon-left">
            <i class="icon ion-ios-keypad-outline"></i>
            <h3>{{closebook.OPENCLOSE_ID}}</h3>
          </div>
          <div class="item-icon-right">
              <i class="icon ion-ios-arrow-right"></i>
          </div>
        </ion-item>
      </div>
      <div class="row not-found" ng-if="listclosebook.length == 0">
        <div class="profile">
            <img ng-src="img/kg.png"/>
            <h4 style="color: #444;margin-top: -1vh;">Data Tutup Buku Masih Kosong</h4>
        </div>
      </div>
    </ion-list>
  </ion-content>
</ion-view>